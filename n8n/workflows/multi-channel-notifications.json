{
    "name": "Multi-Channel Notifications",
    "nodes": [
        {
            "parameters": {
                "rule": {
                    "interval": [
                        {
                            "field": "cronExpression",
                            "expression": "0 8,12,17 * * *"
                        }
                    ]
                }
            },
            "name": "Trigger: Morning, Noon, Evening",
            "type": "n8n-nodes-base.cron",
            "typeVersion": 1,
            "position": [
                240,
                300
            ],
            "id": "cron-trigger"
        },
        {
            "parameters": {
                "url": "http://host.docker.internal:3001/api/briefing/generate",
                "options": {
                    "bodyContentType": "json",
                    "jsonBody": "{\n  \"userId\": 1,\n  \"includeNews\": true,\n  \"includeTasks\": true,\n  \"includeCalendar\": true\n}",
                    "headers": {
                        "Content-Type": "application/json"
                    }
                },
                "method": "POST"
            },
            "name": "Generate AI Briefing",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 4.1,
            "position": [
                460,
                300
            ],
            "id": "generate-briefing"
        },
        {
            "parameters": {
                "jsCode": "const briefing = $node['Generate AI Briefing'].json;\nconst currentHour = new Date().getHours();\n\nlet greeting, emoji;\nif (currentHour < 12) {\n  greeting = \"Good Morning! ðŸŒ…\";\n  emoji = \"ðŸŒž\";\n} else if (currentHour < 17) {\n  greeting = \"Good Afternoon! â˜€ï¸\";\n  emoji = \"ðŸ“Š\";\n} else {\n  greeting = \"Good Evening! ðŸŒ†\";\n  emoji = \"ðŸ“‹\";\n}\n\nconst message = `${greeting}\\n\\n${emoji} **AI Copilot Daily Briefing**\\n\\n${briefing.data.summary}\\n\\nðŸŽ¯ **Priority Tasks:**\\n${briefing.data.tasks?.slice(0, 3).map(t => `â€¢ ${t.title} (${t.priority})`).join('\\n') || 'No pending tasks'}\\n\\nðŸ“° **Top News:**\\n${briefing.data.news?.slice(0, 2).map(n => `â€¢ ${n.title}`).join('\\n') || 'No news updates'}\\n\\nðŸ’¡ **AI Recommendations:**\\n${briefing.data.recommendations || 'Focus on your highest priority tasks today!'}\\n\\n---\\n*Generated by your Personal AI Copilot*`;\n\nconst shortMessage = `${greeting} You have ${briefing.data.tasks?.length || 0} pending tasks. Check your AI briefing for details!`;\n\nreturn {\n  fullMessage: message,\n  shortMessage: shortMessage,\n  taskCount: briefing.data.tasks?.length || 0,\n  highPriorityTasks: briefing.data.tasks?.filter(t => t.priority === 'high').length || 0,\n  briefingData: briefing.data\n};"
            },
            "name": "Format Messages",
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                680,
                300
            ],
            "id": "format-messages"
        },
        {
            "parameters": {
                "channel": "#ai-copilot",
                "text": "={{ $node['Format Messages'].json.fullMessage }}",
                "otherOptions": {
                    "mrkdwn": true
                }
            },
            "name": "Send to Slack",
            "type": "n8n-nodes-base.slack",
            "typeVersion": 2.1,
            "position": [
                900,
                200
            ],
            "id": "slack-notification"
        },
        {
            "parameters": {
                "webhook": "YOUR_DISCORD_WEBHOOK_URL",
                "text": "={{ $node['Format Messages'].json.fullMessage }}",
                "options": {
                    "username": "AI Copilot",
                    "avatar_url": "https://via.placeholder.com/64/4285f4/ffffff?text=AI"
                }
            },
            "name": "Send to Discord",
            "type": "n8n-nodes-base.discord",
            "typeVersion": 1,
            "position": [
                900,
                300
            ],
            "id": "discord-notification"
        },
        {
            "parameters": {
                "fromEmail": "ai-copilot@yourdomain.com",
                "toEmail": "your-email@gmail.com",
                "subject": "ðŸ¤– AI Copilot Daily Briefing - {{ $now.format('MMMM DD, YYYY') }}",
                "emailType": "html",
                "message": "<html><body style='font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;'><div style='background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;'><h1 style='margin: 0;'>ðŸ¤– AI Copilot Daily Briefing</h1><p style='margin: 5px 0 0 0; opacity: 0.9;'>{{ $now.format('dddd, MMMM DD, YYYY') }}</p></div><div style='background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;'><h2 style='color: #333; margin-top: 0;'>ðŸ“Š Summary</h2><p style='color: #666; line-height: 1.6;'>{{ $node['Generate AI Briefing'].json.data.summary }}</p></div><div style='background: white; padding: 20px; border: 1px solid #e9ecef; border-radius: 10px; margin-bottom: 20px;'><h2 style='color: #333; margin-top: 0;'>ðŸŽ¯ Priority Tasks ({{ $node['Format Messages'].json.taskCount }})</h2><ul style='color: #666; line-height: 1.8;'>{{ $node['Generate AI Briefing'].json.data.tasks?.slice(0, 5).map(t => `<li><strong>${t.title}</strong> - ${t.priority} priority</li>`).join('') || '<li>No pending tasks</li>' }}</ul></div><div style='background: white; padding: 20px; border: 1px solid #e9ecef; border-radius: 10px; margin-bottom: 20px;'><h2 style='color: #333; margin-top: 0;'>ðŸ’¡ AI Recommendations</h2><p style='color: #666; line-height: 1.6;'>{{ $node['Generate AI Briefing'].json.data.recommendations || 'Focus on your highest priority tasks today!' }}</p></div><div style='text-align: center; padding: 20px; color: #999; font-size: 12px;'>Generated by your Personal AI Copilot</div></body></html>"
            },
            "name": "Send Email",
            "type": "n8n-nodes-base.emailSend",
            "typeVersion": 2,
            "position": [
                900,
                400
            ],
            "id": "email-notification"
        },
        {
            "parameters": {
                "url": "https://api.whatsapp.com/send",
                "options": {
                    "qs": {
                        "phone": "YOUR_PHONE_NUMBER",
                        "text": "={{ $node['Format Messages'].json.shortMessage }}"
                    }
                }
            },
            "name": "Send WhatsApp",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 4.1,
            "position": [
                900,
                500
            ],
            "id": "whatsapp-notification"
        },
        {
            "parameters": {
                "owner": "decodewithdeepak",
                "repository": "personal-ai-copilot",
                "title": "ðŸ¤– Daily AI Copilot Report - {{ $now.format('YYYY-MM-DD') }}",
                "body": "## Daily Briefing\\n\\n{{ $node['Format Messages'].json.fullMessage }}\\n\\n---\\n*Auto-generated by AI Copilot*",
                "labels": [
                    "ai-copilot",
                    "daily-report"
                ]
            },
            "name": "Create GitHub Issue",
            "type": "n8n-nodes-base.github",
            "typeVersion": 1,
            "position": [
                900,
                600
            ],
            "id": "github-issue"
        }
    ],
    "connections": {
        "Trigger: Morning, Noon, Evening": {
            "main": [
                [
                    {
                        "node": "Generate AI Briefing",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Generate AI Briefing": {
            "main": [
                [
                    {
                        "node": "Format Messages",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Format Messages": {
            "main": [
                [
                    {
                        "node": "Send to Slack",
                        "type": "main",
                        "index": 0
                    },
                    {
                        "node": "Send to Discord",
                        "type": "main",
                        "index": 0
                    },
                    {
                        "node": "Send Email",
                        "type": "main",
                        "index": 0
                    },
                    {
                        "node": "Send WhatsApp",
                        "type": "main",
                        "index": 0
                    },
                    {
                        "node": "Create GitHub Issue",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        }
    },
    "pinData": {},
    "meta": {
        "instanceId": "multi-channel-ai-copilot"
    }
}